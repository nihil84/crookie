language: c

compiler:
  - gcc
  
  
before_script: 
  - mkdir build
  - mkdir -p shippable/testresults

build:
    ci:
      - sudo add-apt-repository ppa:george-edison55/cmake-3.x
      - sudo apt-get update
      - sudo apt-get install libboost-all-dev -y
      - sudo apt-get install cmake -y
      - cd build
      - cmake -DCMAKE_BUILD_TYPE=Debug ..
      - make
      
    on_success:
      - make check
      - mv test/reports/* ../shippable/testresults

# only build develop
branches:
  only:
    - master

integrations:
  notifications:
    - integrationName: email
      type: email
      on_success: never
      on_failure: never
      on_pull_request: never
